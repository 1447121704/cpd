<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>cpd: cpd</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cpd
   &#160;<span id="projectnumber">0.3.2</span>
   </div>
   <div id="projectbrief">Coherent Point Drift: C++ library for point set registration</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">cpd </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Coherent Point Drift (CPD)</b> is a point-set registration algorithm, originally developed by <a href="https://sites.google.com/site/myronenko/research/cpd">Andriy Myronenko</a> et al. This is a C++ library that runs CPD.</p>
<p>CPD can be compared to <a href="https://en.wikipedia.org/wiki/Iterative_closest_point">Iterative Closest Point</a>, another point-set registration algorithm that is widely used. While ICP minimizes point-to-point distances, CPD uses a <a href="https://en.wikipedia.org/wiki/Mixture_model">Gaussian Mixture Model</a> to minimize the error between a point and <em>all other points</em>. If you're thinking that this is very computationally intensive, you're right â€” both the CPD algorithm and the underlying error calculations take a lot of time, which is why we've created <a href="https://github.com/gadomski/fgt">fgt</a> to speed up those Gauss transforms. We hope this library provides a freer and more performant alternative to the original reference Matlab implementation.</p>
<p>This library supports three variants of CPD:</p>
<ul>
<li><b>rigid</b>: Uses a rigid transformation (i.e. rotation and translation, with an optional scaling) to align the two datasets.</li>
<li><b>nonrigid</b>: Uses a two-parameter non-rigid transformation function to align the two datasets.</li>
<li><b>affine</b>: Uses an affine transformation (with an optional scaling) to align the two datasets.</li>
</ul>
<p>Andriy's reference implementation comes with one other type of registration, <b>nonrigid_lowrank</b>, which is not implemented in the latest version of this library (yet) (see <a href="#history">History</a> for information on how to find and use a previous version of this library that has <b>nonrigid_lowrank</b>).</p>
<p>This code lives <a href="https://github.com/gadomski/cpd">on Github</a>. It has some <a href="http://gadomski.github.io/cpd">Doxygen documentation</a> and is tested <a href="https://travis-ci.org/gadomski/cpd">by Travis</a> and <a href="https:://ci.appveyor.com/project/gadomski/cpd/branch/master">by AppVeyor</a>. We also have a <a href="https://gitter.im/gadomski/cpd">gitter chatroom</a>.</p>
<div class="image">
<img src="https://travis-ci.org/gadomski/fgt.svg?branch=master"  alt="Build Status"/>
</div>
 <div class="image">
<img src="https://ci.appveyor.com/api/projects/status/iktu9w7gt5bkb63p/branch/master?svg=true"  alt="Build status"/>
</div>
<h2>Usage</h2>
<p><b>cpd</b> has a simple functional interface, which accepts <a href="http://eigen.tuxfamily.org/index.php?title=Main_Page">Eigen</a> matrices and aligns them using some sensible default parameters:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rigid_8hpp.html">cpd/rigid.hpp</a>&gt;</span></div><div class="line"></div><div class="line"><a class="code" href="structcpd_1_1_rigid_result.html">cpd::RigidResult</a> align_with_rigid(<span class="keyword">const</span> Eigen::MatrixXd&amp; X, <span class="keyword">const</span> Eigen::MatrixXd&amp; Y) {</div><div class="line">    <span class="keywordflow">return</span> <a class="code" href="namespacecpd.html#aa5eb6c61b98fa13058b0739b5fd0310e">cpd::rigid</a>(X, Y);</div><div class="line">}</div></div><!-- fragment --><p>If you want more control over the parameters, you can use the class-based interface:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rigid_8hpp.html">cpd/rigid.hpp</a>&gt;</span></div><div class="line"></div><div class="line"><a class="code" href="structcpd_1_1_rigid_result.html">cpd::RigidResult</a> align_with_rigid(<span class="keyword">const</span> Eigen::MatrixXd&amp; X, <span class="keyword">const</span> Eigen::MatrixXd&amp; Y) {</div><div class="line">    <a class="code" href="classcpd_1_1_rigid.html">cpd::Rigid</a> <a class="code" href="namespacecpd.html#aa5eb6c61b98fa13058b0739b5fd0310e">rigid</a>;</div><div class="line">    rigid.<a class="code" href="classcpd_1_1_rigid.html#a7365d918f012e3c066fc33e00f790491">allow_scaling</a>(<span class="keyword">true</span>).no_reflections(<span class="keyword">false</span>);</div><div class="line">    <span class="keywordflow">return</span> rigid.<a class="code" href="classcpd_1_1_registration.html#ab2db941503d3f5ed68808065f6d3e14a">compute</a>(X, Y);</div><div class="line">}</div></div><!-- fragment --><h2>Installation</h2>
<p><b>cpd</b> depends on <a href="https://github.com/gadomski/fgt">fgt</a> at runtime and <a href="https://cmake.org/">CMake</a> and Eigen at build-time.</p>
<h3>On OSX</h3>
<p>If you're on a Mac, use <a href="http://brew.sh/">homebrew</a> and <a href="https://github.com/gadomski/homebrew-gadomski">my tap</a> to install:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;brew tap gadomski/gadomski</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;brew install cpd</div></div><!-- fragment --><h3>From source</h3>
<p>Install fgt (which also requires Eigen) and CMake, then use the usual CMake build incantation for cpd:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;mkdir build</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;cd build</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;cmake ..</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;make</div></div><!-- fragment --><h3>Using downstream</h3>
<p><b>cpd</b> provides CMake export targets that you can import and use in your own project:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;find_package(Cpd REQUIRED)</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;add_library(my-great-library</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    the_code.cpp</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;    )</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;target_link_libraries(my-great-library</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;    PUBLIC</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    Cpd::Library-C++</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;    )</div></div><!-- fragment --><p>The <code>Cpd::Library-C++</code> target includes all the interface settings you need, so you shouldn't need any other calls to get set up.</p>
<h2>OpenMP</h2>
<p>Both fgt and Eigen support OpenMP for some operations. As of yet, the interaction between the two is untested, so our official recommendation is to only use OpenMP with one of the projects, not both. If you do some work with OpenMP we'd love to hear how it goes.</p>
<h2>Contributing</h2>
<p>Github <a href="https://github.com/gadomski/cpd/issues">issues</a> and <a href="https://github.com/gadomski/cpd/pulls">pull requests</a>, per usual.</p>
<h2>History</h2>
<p>The <a href="https://github.com/gadomski/cpd/tree/v0.1">v0.1</a> and <a href="https://github.com/gadomski/cpd/tree/v0.2">v0.2</a> lineages of <b>cpd</b> used <a href="http://arma.sourceforge.net/">armadillo</a> for linear arithmetic instead of Eigen. Armadillo is a bit smoother for doing advanced eigenvalue decompositions and other operations, which made it a bit easier at first to directly port the Matlab reference implementation. For a couple of reasons, we decided to switch to Eigen for v0.3.</p>
<p>First, the Armadillo project had the bad habit of removing old versions from their download site, making it hard to maintain working code as their codebase developed. Second, many downstream applications use Eigen themselves, making Eigen a lower-friction choice for those users.</p>
<p>As of this writing, the Eigen implementation is less feature-full than the old Armadillo implementation, particularly with respect to the nonrigid_lowrank version. If you require some of that old functionality, use the <a href="https://github.com/gadomski/cpd/tree/v0.2">v0.2</a> branch. If you need armadillo-5.x, which is required for the old <b>cpd</b> but is no longer available from the armadillo website, you can use <a href="https://github.com/gadomski/armadillo">my mirror</a>. Thanks for your understanding during this switch.</p>
<h2>License</h2>
<p>This library is GPL2, copyright 2016 Peter J. Gadomski. See LICENSE.txt for the full license text.</p>
<p>This work is directly inspired by Andriy Myronenko's reference implementation, and we owe him many thanks. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
